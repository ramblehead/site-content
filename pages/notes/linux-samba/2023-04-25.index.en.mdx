---
title: Linux Samba Notes Hints and References
dateUpdated: '2023-04-25'
description:
  Collection of Linux Samba configuration and troubleshooting hints and resource
  references.
---

### Ubuntu 22.04 Samba Server Home Directory Permission Issue

In previous versions of Ubuntu, the userâ€™s home directory permission was set to
`755`, which allowed other users to view the directory as well as the containing
files and sub-directories. To avoid such a security issue, the developers have
set the permission to the home directories as `750`, which means only the owner
of the home directory can view the contents.

This change of policy causes an issue with public (anonymous) samba-shared
folders within home directory. Even if `public = yes` parameter is used, only
the owner of the home directory can see the share.

#### Reverting Home Directory Permission Solution

```bash
chmod o+rx /home/{USER}
```

#### Reverting Home Directory Permission Solution

Add shared folders with either private access or using `force user = {USER}`
parameter to `/etc/samba/smb.conf` as in the following example:

```
[io]
  path = /home/rh/io
  guest ok = no
  read only = no
  browseable = yes
  valid users = @rh

[homes]
  comment = Home Directories
  browseable = yes
  read only = no
  create mask = 0700
  directory mask = 0700
  valid users = %S

[Public]
  path = /home/rh/Public
  guest ok = yes
  guest only = yes
  browsable = yes
  read only = yes
  force create mode = 0666
  force directory mode = 0777
  force user = rh
```

### mDNS Names Resolution Issue in Windows 10+

Since version 10, Windows OS support mDNS out-of-the-box. SMB services access by
mDNS name seems to work only partially.
